# TypeScript

TypeScript 增加了一些 JavaScript 没有的语法特性，以提高代码的可维护性和可读性。下面是 TypeScript 的一些主要语法特性：

## 基本类型


| 类型             | 描述                                                        | 示例代码                                         |
|------------------|-------------------------------------------------------------|--------------------------------------------------|
| `boolean`        | 布尔值类型，只有 `true` 和 `false`                          | `let isDone: boolean = false;`                   |
| `number`         | 数值类型，包括整数和浮点数                                    | `let count: number = 10;`                        |
| `string`         | 字符串类型                                                  | `let name: string = "John";`                     |
| `Array`          | 数组类型，可以指定元素类型                                   | `let list: number[] = [1, 2, 3];`                |
| `Tuple`          | 元组类型，表示固定数量和类型的数组                           | `let tuple: [string, number] = ["hello", 10];`   |
| `Enum`           | 枚举类型，用于定义一组命名常量                               | `enum Color { Red, Green, Blue }`                |
| `any`            | 任意类型，可用于绕过类型检查                                 | `let notSure: any = 4; notSure = "maybe a string";` |
| `void`           | 无返回值类型，通常用于函数的返回值类型                        | `function warnUser(): void { console.log("Warning!"); }` |
| `null`           | 表示值为 `null`                                              | `let n: null = null;`                            |
| `undefined`      | 表示值为 `undefined`                                         | `let u: undefined = undefined;`                  |
| `never`          | 表示不会出现的值类型，通常用于抛出异常或无限循环的函数        | `function error(message: string): never { throw new Error(message); }` |
| `object`         | 非原始类型，包括对象、数组、函数等                            | `let obj: object = { name: "John" };`            |
| `unknown`        | 未知类型，需要进行类型检查后才能使用                          | `let notSure: unknown = 4; if (typeof notSure === "number") { let value: number = notSure; }` |
| `Function`       | 函数类型，用于定义函数的参数和返回值类型                      | `let myAdd: (x: number, y: number) => number = function(x, y) { return x + y; };` |
| `Interface`      | 接口类型，用于定义对象的结构                                   | `interface Person { firstName: string; lastName: string; }` |
| `Type Alias`     | 类型别名，用于给类型起一个新名字                              | `type Name = string;`                            |
| `Union`          | 联合类型，表示可以是多种类型之一                              | `let value: string | number; value = "hello"; value = 42;` |
| `Intersection`   | 交叉类型，将多个类型合并为一个类型                             | `type Pet = Bird & Fish;`                        |
| `Literal`        | 字面量类型，使用具体的值作为类型                               | `let literal: "hello" | "world"; literal = "hello";` |
| `Type Assertion` | 类型断言，用于手动指定一个值的类型                             | `let someValue: any = "this is a string"; let strLength: number = (someValue as string).length;` |
| `Generics`       | 泛型，允许定义时不指定具体类型，而在使用时再指定               | `function identity<T>(arg: T): T { return arg; }` |
| `Readonly`       | 只读属性，用于防止属性被修改                                  | `interface Person { readonly id: number; name: string; }` |
| `Optional`       | 可选属性，用于定义可选的属性                                   | `interface Person { firstName: string; lastName?: string; }` |
| `Namespace`      | 命名空间，用于组织代码，避免命名冲突                          | `namespace Validation { export function validate() { /* ... */ } }` |
| `Module`         | 模块，用于将代码分割成独立的文件和块                          | `import { add } from "./math";`                  |

---

### 枚举

枚举类型用于定义一组命名常量：

```typescript
enum Color {
  Red,
  Green,
  Blue,
}

let c: Color = Color.Green;
```

### 接口

接口用于定义对象的类型，可以强制对象结构符合特定的形状：

```typescript
interface Person {
  firstName: string;
  lastName: string;
  age?: number; // 可选属性
}

function greet(person: Person) {
  return `Hello, ${person.firstName} ${person.lastName}`;
}

let user = { firstName: "John", lastName: "Doe" };
console.log(greet(user));
```

### 类

TypeScript 支持面向对象编程，提供了类、继承、接口实现等功能：

```typescript
class Animal {
  name: string;

  constructor(name: string) {
    this.name = name;
  }

  move(distance: number = 0) {
    console.log(`${this.name} moved ${distance} meters.`);
  }
}

class Dog extends Animal {
  bark() {
    console.log("Woof! Woof!");
  }
}

let dog = new Dog("Rex");
dog.bark();
dog.move(10);
```

### 函数

函数可以有类型注解，参数和返回值都可以指定类型：

```typescript
function add(x: number, y: number): number {
  return x + y;
}

let myAdd: (x: number, y: number) => number = add;
```

### 泛型

泛型使函数、类或接口可以处理不特定的类型：

```typescript
function identity<T>(arg: T): T {
  return arg;
}

let output = identity<string>("myString"); // 手动指定类型
let output2 = identity("myString"); // 类型推断
```

### 类型断言

类型断言可以手动指定一个值的类型（类似于类型转换）：

```typescript
let someValue: any = "this is a string";
let strLength: number = (someValue as string).length;
```

### 模块和命名空间

模块和命名空间用于组织代码，避免命名冲突：

```typescript
// math.ts
export function add(x: number, y: number): number {
  return x + y;
}

// app.ts
import { add } from "./math";
console.log(add(2, 3));
```

### 类型别名

类型别名用于给类型起一个新的名字：

```typescript
type Name = string;
type NameResolver = () => string;
type NameOrResolver = Name | NameResolver;

function getName(n: NameOrResolver): Name {
  if (typeof n === "string") {
    return n;
  } else {
    return n();
  }
}
```

### 交叉类型与联合类型

交叉类型（`&`）和联合类型（`|`）允许将多个类型组合在一起：

```typescript
interface Bird {
  fly(): void;
  layEggs(): void;
}

interface Fish {
  swim(): void;
  layEggs(): void;
}

type Pet = Bird & Fish; // 交叉类型

let pet: Pet = {
  fly() {},
  swim() {},
  layEggs() {},
};

type SomeValue = string | number; // 联合类型

let value: SomeValue;
value = "hello";
value = 42;
```
